{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction StudentComponent_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function StudentComponent_th_2_Template_th_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const key_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.sortColumn(key_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const key_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(key_r2);\n  }\n}\n\nfunction StudentComponent_tr_3_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const key_r7 = ctx.$implicit;\n    const student_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(student_r5[key_r7]);\n  }\n}\n\nfunction StudentComponent_tr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, StudentComponent_tr_3_td_1_Template, 2, 1, \"td\", 1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.studentKeys);\n  }\n}\n\nexport let StudentComponent = /*#__PURE__*/(() => {\n  class StudentComponent {\n    constructor(http) {\n      this.http = http;\n      this.studentData = [];\n      this.studentDataOriginal = [];\n      this.studentKeys = [];\n      this.headingObjects = [];\n    }\n\n    ngOnInit() {\n      this.http.get(\"assets/student.json\").subscribe(data => {\n        this.studentData = data['Students'];\n        this.studentDataOriginal = [...this.studentData];\n\n        if (this.studentData.length > 0) {\n          this.studentKeys = Object.keys(this.studentData[0]);\n          this.setupHeadingsData();\n        }\n\n        console.log(this.studentData);\n      });\n    }\n\n    setupHeadingsData() {\n      for (let heading of this.studentKeys) {\n        const headerObj = {\n          key: heading,\n          order: 'default'\n        };\n        this.headingObjects.push(headerObj);\n      }\n    }\n\n    sortColumn(key) {\n      let order = this.headingObjects.find(headerObj => {\n        return headerObj.key === key;\n      }).order;\n\n      if (order === 'default') {\n        order = 'asc';\n      } else if (order === 'asc') {\n        order = 'desc';\n      } else {\n        order = 'default';\n      }\n\n      this.headingObjects.forEach(element => {\n        if (element.key === key) {\n          element.order = order;\n        }\n      });\n\n      if (order === 'default') {\n        this.studentData = [...this.studentDataOriginal];\n      } else {\n        this.studentData.sort(this.sortData(key, order));\n      }\n    }\n\n    sortData(key, order) {\n      return (a, b) => {\n        let data1 = a[key];\n        let data2 = b[key];\n\n        if (data1 === data2) {\n          return 0;\n        } else if (data1 === null || data1 === undefined) {\n          return 1;\n        } else if (data2 === null || data2 === undefined) {\n          return -1;\n        } else if (order === 'desc') {\n          return data1 > data2 ? -1 : 1;\n        } else {\n          return data1 > data2 ? 1 : -1;\n        }\n      };\n    }\n\n  }\n\n  StudentComponent.ɵfac = function StudentComponent_Factory(t) {\n    return new (t || StudentComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  StudentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StudentComponent,\n    selectors: [[\"app-student\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[3, \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n    template: function StudentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\")(1, \"tr\");\n        i0.ɵɵtemplate(2, StudentComponent_th_2_Template, 2, 1, \"th\", 0);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, StudentComponent_tr_3_Template, 2, 1, \"tr\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.studentKeys);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.studentData);\n      }\n    },\n    dependencies: [i2.NgForOf],\n    styles: [\"table[_ngcontent-%COMP%]{width:70%;margin:20px auto;border-collapse:collapse;border:1px solid black}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-left:1px solid black;border-bottom:1px solid black;padding:10px}th[_ngcontent-%COMP%]{background-color:#152a89;font-size:1rem;color:#fff;cursor:pointer}td[_ngcontent-%COMP%]{background-color:#dde5eb;color:#000;font-size:.75rem}\"]\n  });\n  return StudentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}