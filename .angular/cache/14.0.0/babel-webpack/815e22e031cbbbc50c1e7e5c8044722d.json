{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../counter.service\";\nexport let CounterDisplayComponent = /*#__PURE__*/(() => {\n  class CounterDisplayComponent {\n    constructor(counterSvc) {\n      this.counterSvc = counterSvc;\n      this.timer = 0;\n    }\n\n    ngOnInit() {\n      this.counterSub = this.counterSvc.getTimer().subscribe(value => {\n        if (value != null) {\n          this.timer = value;\n        }\n      });\n      this.startSub = this.counterSvc.getStart().subscribe(value => {\n        if (value) {\n          this.startInterval();\n        }\n      });\n      this.pauseSub = this.counterSvc.getPause().subscribe(value => {\n        if (value) {\n          this.stopInterval();\n          this.counterSvc.setCurrentValue(this.timer);\n        }\n      });\n      this.resetSub = this.counterSvc.getReset().subscribe(value => {\n        if (value) {\n          this.timer = 0;\n        }\n      });\n    }\n\n    startInterval() {\n      this.interval = setInterval(() => {\n        if (this.timer > 0) {\n          this.timer--;\n        }\n      }, 1000);\n    }\n\n    stopInterval() {\n      clearInterval(this.interval);\n    }\n\n    ngOnDestroy() {\n      this.startSub.unsubscribe();\n      this.pauseSub.unsubscribe();\n      this.resetSub.unsubscribe();\n      clearInterval(this.interval);\n      this.counterSub.unsubscribe();\n    }\n\n  }\n\n  CounterDisplayComponent.ɵfac = function CounterDisplayComponent_Factory(t) {\n    return new (t || CounterDisplayComponent)(i0.ɵɵdirectiveInject(i1.CounterService));\n  };\n\n  CounterDisplayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CounterDisplayComponent,\n    selectors: [[\"app-counter-display\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"text-center\"]],\n    template: function CounterDisplayComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n        i0.ɵɵtext(2, \"Count Down Timer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"h2\", 0);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.timer);\n      }\n    }\n  });\n  return CounterDisplayComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}